(function(n,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("react-router-dom"),require("react")):typeof define=="function"&&define.amd?define(["exports","react-router-dom","react"],u):(n=typeof globalThis<"u"?globalThis:n||self,u(n.ReactSSOTQuery={},n.ReactRouterDOM,n.React))})(this,function(n,u,s){"use strict";function m(r){return Object.fromEntries(r.split(",").map(e=>e.split("~")).filter(([e,t])=>e&&t))}function d(r){return Object.entries(r).map(([e,t])=>`${e}~${t}`).join(",")}function o(r){const[e,t]=u.useSearchParams(),a=e.get(r)||"",c=s.useMemo(()=>m(a),[a]),i=s.useCallback(f=>{const g={...m(a),...f},p=new URLSearchParams(e.toString());p.set(r,d(g)),t(p,{replace:!0})},[a,e,t,r]);return[c,i]}function S(r,e){const[t,a]=o(r),c=s.useMemo(()=>t[e]||null,[t[e]]),i=s.useCallback(f=>{a({[e]:f})},[a,e]);return[c,i]}function l(r,e){const[t]=o(r),a=s.useRef(t);s.useEffect(()=>{const c=a.current;JSON.stringify(c)!==JSON.stringify(t)&&(a.current=t,e(t))},[t,e])}n.useParamChangeWatcher=l,n.useParamConfig=o,n.useSubParamState=S,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
